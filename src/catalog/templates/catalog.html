{% extends 'base.html' %}

{% block title %} | Shop{% endblock %}
{% block no_title_content %}{% endblock %}

{% load staticfiles %}

{% load static %}

{% block stylesheet %}
  <link rel="stylesheet" href="{% static 'css/catalog.css' %}">
  <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
{% endblock %}

{% block content %}
  <div class="sidebar-page col-md-3">
    <form id="search" class="searchbar row" method="post">
      <h3>Search</h3>
      <label for="product_name">Product Name</label>
      <input type="text" name="product_name">
      <br>
      <label for="seller_name">Store</label>
      <input type="text" name="seller_name">
      {% csrf_token %}
      <input type="submit" value="Search!">
    </form>
    <p class="sidebar-title">Shop by Category</p>
    <div class="sidebar-list">
      <a href="/shop"><p class="sidebar">all</p></a>
      <a href="/shop/top"><p class="sidebar">Top</p></a>
      <a href="/shop/jacket"><p class="sidebar">Jacket </p></a>
      <a href="/shop/dress"><p class="sidebar">Dress </p></a>
      <a href="/shop/skirt"><p class="sidebar">Skirt </p></a>
      <a href="/shop/pants"><p class="sidebar">Pants </p></a>
      <a href="/shop/shorts"><p class="sidebar">Shorts </p></a>
      <a href="/shop/t-shirt"><p class="sidebar">T-shirt </p></a>
      <a href="/shop/suits"><p class="sidebar">Suits </p></a>
      <a href="/shop/bag"><p class="sidebar">Bag </p></a>
      <a href="/shop/shoes"><p class="sidebar">Shoes </p></a>
      <a href="/shop/accessory"><p class="sidebar">Accessory </p></a>
    </div>
  </div>
  <div class="product-page col-md-9">
    <form class="sortbar row" method="post">
      <label for="sort">Sort By : </label>
      <select form="search" name="sort">
        <option value="late">Latest date first</option>
        <option value="old">Oldest date first</option>
        <option value="low">Lowest price first</option>
        <option value="high">Highest price first</option>
      </select>
    </form>
    <div class="product-row row">
      {% for product in all_product %}
        <div class="product col-md-4">
          <div class="product-image">
            <span class="helper"></span><img src="/media/{{product.picture_path}}">
          </div>
          <div class="product-text">
            <div class="product-title"><b>{{product.name}}</b></div>
            <div class="product-detail">
              <div class="product-date">{{product.create_date|date:"d M Y"}}</div>
              <div class="product-price">{{product.price|floatformat:2}} à¸¿</div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  <div class="paging">
    {% if page >= 1 and  page <= last_page %}
      {% if page|add:'-1' > 0 %}
        <a href="/shop{{type}}/{{page|add:'-1'}}"><img src="{% static 'img/Previous-page.png' %}"></a><span> </span>
      {% endif %}
      {% if page|add:'-4' >= 1 %}
        <a href="/shop{{type}}/1">1</a><span> </span>
      {% endif %}
      {% if page|add:'-5' >= 1 %}
        <span>... </span>
      {% endif %}
      {% if page|add:'-3' >= 1 %}
        <a href="/shop{{type}}/{{page|add:'-3'}}">{{page|add:'-3'}}</a><span> </span>
      {% endif %}
      {% if page|add:'-2' >= 1 %}
        <a href="/shop{{type}}/{{page|add:'-2'}}">{{page|add:'-2'}}</a><span> </span>
      {% endif %}
      {% if page|add:'-1' >= 1 %}
        <a href="/shop{{type}}/{{page|add:'-1'}}">{{page|add:'-1'}}</a><span> </span>
      {% endif %}
        <span>{{page}} </span>
      {% if page|add:'1' <= last_page %}
        <a href="/shop{{type}}/{{page|add:'1'}}">{{page|add:'1'}}</a><span> </span>
      {% endif %}
      {% if page|add:'2' <= last_page %}
        <a href="/shop{{type}}/{{page|add:'2'}}">{{page|add:'2'}}</a><span> </span>
      {% endif %}
      {% if page|add:'3' <= last_page %}
        <a href="/shop{{type}}/{{page|add:'3'}}">{{page|add:'3'}}</a><span> </span>
      {% endif %}
      {% if page|add:'5' <= last_page %}
        <span>... </span>
      {% endif %}
      {% if page|add:'4' <= last_page %}
        <a href="/shop{{type}}/{{last_page}}">{{last_page}}</a><span> </span>
      {% endif %}
      {% if page|add:'1' <= last_page %}
        <a href="/shop{{type}}/{{page|add:'1'}}"><img src="{% static 'img/Next-page.png' %}"></a>
      {% endif %}
    {% endif %}
  </div>
{% endblock %}
